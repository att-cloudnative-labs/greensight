<div (contextmenu)="openContextMenu($event)" #modelTemplateElement
    (click)="onClick()"
    (mouseenter)='onMouseEnter()'
    (mouseleave)="onMouseLeave()"
    [class.highlighted]='isHighlighted'
    [class.selected]="isSelected"
    class="system-model-label">

    <span class="fa fa-cubes"></span>
    <div style="display: inline;" *ngIf="isRename">
        <app-edit-in-place [value]="graphModelTemplate.name" (onSubmit)="renameGraphModelTemplate($event)" (onCancel)="onCancelRename()"></app-edit-in-place>
    </div>
    <div class="model-template-name" [title]="graphModelTemplate.name" *ngIf="!isRename">
        {{graphModelTemplate.name}}
        <div *ngIf="hovering" class="pull-right graph-model-template-options">
            <button title="Open Model Template" (click)="doubleClick()" class="icon-button"><span style="position:relative"><i class="fa fa-external-link-alt"></i></span></button>
            <div *appHasPermission="modifyPermissionsObj" class="more-graph-model-template-options">
                <button #optionsbutton [id]="'options-'+graphModelTemplate.id" (click)="openContextMenu($event)" class="icon-button dropdown-button"><i class="fa fa-ellipsis-h"></i></button>
            </div>
        </div>
    </div>
</div>

<ng-template #contextMenu let-close="close">
    <app-library-graph-model-template-menu
        (closePopup)="close();"
        (openModelTemplate)="doubleClick()"
        (renameGraphModelTemplate)="openModelTemplateRenameMode()"
        [graphModelTemplate]="graphModelTemplate"
        data-testid="library-graph-model-template-pop-up-menu">
    </app-library-graph-model-template-menu>
</ng-template>
